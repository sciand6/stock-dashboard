(this["webpackJsonpstock-dashboard-client"]=this["webpackJsonpstock-dashboard-client"]||[]).push([[0],{22:function(e,t,r){},23:function(e,t,r){},32:function(e,t,r){},34:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r(11),c=r.n(a),i=(r(22),r(23),r(9)),o=r(5),s=r(8),u=Object(s.b)({name:"input",initialState:{lowdate:"",highdate:"",currenttickers:[],pagesarr:[],activeindex:0,pageamount:10},reducers:{saveInput:function(e,t){e.lowdate=t.payload.lowdate,e.highdate=t.payload.highdate,e.currenttickers=t.payload.currenttickers},updatePages:function(e,t){e.pagesarr=t.payload.pagesarr},updateActiveIndex:function(e,t){e.activeindex=t.payload.activeindex},updatePageAmount:function(e,t){e.pageamount=t.payload.pageamount}}}),l=u.actions,d=l.saveInput,j=l.updatePages,h=l.updateActiveIndex,p=l.updatePageAmount,b=u.reducer,f=r(3);function O(e){var t=e.lowdate,r=e.highdate,n=e.tickersinput,a=function(e,t){if(!e)return{isError:!0,error:"Please enter a valid from date."};if(!t)return{isError:!0,error:"Please enter a valid to date."};if(isNaN(Date.parse(e)))return{isError:!0,error:"Please enter a valid from date."};if(isNaN(Date.parse(t)))return{isError:!0,error:"Please enter a valid to date."};if(Date.parse(t)<Date.parse(e))return{isError:!0,error:"Your to date is greater than your from date."};return{isError:!1,error:""}}(t,r),c=function(e){if(!e)return{isError:!0,error:"Please enter a valid list of tickers."};return{isError:!1,error:""}}(n);return a.isError?a:c.isError?c:{isError:!1,error:""}}function g(e,t,r,n){for(var a=t[e],c="",i=0;i<a.length;i++)c+=a[i]+",";var o={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tickers:c.slice(0,-1),lowdate:r,highdate:n})};return fetch("/apiv1/getStockData/",o)}var x=r(15),m=r.n(x);function v(e,t,r){return{yAxis:[{offset:20,labels:{formatter:function(){return r.format(this.value)},x:-15,style:{color:"#000",position:"absolute"},align:"left"}}],tooltip:{shared:!0,formatter:function(){return r.format(this.y,0)+"</b><br/>"+m()(this.x).format("MMMM Do YYYY, h:mm")}},plotOptions:{series:{showInNavigator:!0,gapSize:6}},title:{text:"".concat(e)},chart:{height:500},credits:{enabled:!1},legend:{enabled:!0},xAxis:{type:"date"},rangeSelector:{buttons:[{type:"day",count:1,text:"1d"},{type:"day",count:7,text:"7d"},{type:"month",count:1,text:"1m"},{type:"month",count:3,text:"3m"},{type:"all",text:"All"}],selected:4},series:[{name:"Price",type:"spline",data:t,tooltip:{valueDecimals:2}}]}}function k(e){for(var t=[],r=e.length-1;r>=0;r--){var n=[new Date(e[r].date).getTime(),e[r].adjClose];t.push(n)}return t}function w(e,t){for(var r=0,n=[],a=[],c=0;c<e.length;c++)n.push(e[c]),r===t&&(a.push(n),r=0,n=[]),r++;return n.length>0&&a.push(n),a}function y(e){var t=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),r=[],n=[];for(var a in e)try{var c=k(e[a]),i={ticker:a,close:e[a][0].adjClose,high:Math.max.apply(Math,e[a].map((function(e){return e.high}))),low:Math.min.apply(Math,e[a].map((function(e){return e.low}))),roi:(e[a][0].adjClose-e[a][e[a].length-1].adjClose)/e[a][e[a].length-1].adjClose,configPrice:v(a,c,t)};r.push(i)}catch(o){n.push(a)}return{failed:n,arr:r}}function N(e){if(!e.ok)throw Error(e.statusText);return e.json()}function C(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";return function(r,n){if(!r.hasOwnProperty(e)||!n.hasOwnProperty(e))return 0;var a="string"===typeof r[e]?r[e].toUpperCase():r[e],c="string"===typeof n[e]?n[e].toUpperCase():n[e],i=0;return a>c?i=1:a<c&&(i=-1),"desc"===t?-1*i:i}}var S=Object(s.b)({name:"stock",initialState:{stockdata:[],loading:!1,error:""},reducers:{setLoading:function(e,t){e.loading=t.payload.loading},setStocks:function(e,t){e.stockdata=t.payload.stockdata},setError:function(e,t){e.error=t.payload.error}}}),E=S.actions,P=E.setStocks,D=E.setLoading,I=E.setError,T=S.reducer,A=r(1);var M=function(){var e=Object(f.b)(),t=Object(n.useState)(""),r=Object(o.a)(t,2),a=r[0],c=r[1],i=Object(n.useState)(""),s=Object(o.a)(i,2),u=s[0],l=s[1],p=Object(n.useState)(""),b=Object(o.a)(p,2),x=b[0],m=b[1],v=Object(f.c)((function(e){return e.input.pageamount}));function k(t){if(O(t).isError)e(I({error:O(t).error}));else{var r=t.lowdate,n=t.highdate,a=t.tickersinput;r=new Date(r).toISOString().split("T")[0],n=new Date(n).toISOString().split("T")[0];var c,i=(c=v,w(a.split(","),c));!function(t,r){var n=t.lowdate,a=t.highdate,c=t.tickersinput.split(",");e(d({lowdate:n,highdate:a,currenttickers:c})),e(j({pagesarr:r})),e(h({activeindex:0}))}(t,i),e(D({loading:!0})),g(0,i,r,n).then(N).then((function(t){setTimeout((function(){!function(t){var r=y(t),n=r.failed,a=r.arr;e(P({stockdata:a.sort(C)})),e(D({loading:!1})),0!==n.length&&e(I({error:"Couldn't find data for the following stocks: \n"+n}))}(t)}),3e3)})).catch((function(t){e(I({error:t}))}))}}return Object(A.jsxs)("div",{children:[Object(A.jsx)("p",{children:"Enter Date Range"}),Object(A.jsx)("label",{htmlFor:"lowdate",children:"From:\xa0"}),Object(A.jsx)("input",{className:"ticker-input",placeholder:"2021-01-01",id:"lowdate",type:"text",onChange:function(e){return c(e.target.value)}}),"\xa0",Object(A.jsx)("label",{htmlFor:"highdate",children:"To:\xa0"}),Object(A.jsx)("input",{className:"ticker-input",placeholder:"2021-07-04",type:"text",onChange:function(e){return l(e.target.value)}}),Object(A.jsx)("p",{children:"Enter Tickers Separated by Commas"}),Object(A.jsx)("input",{className:"ticker-input",type:"text",placeholder:"FB,AMZN,NFLX,GOOGL",onChange:function(e){return m(e.target.value)}}),Object(A.jsx)("button",{className:"btn",onClick:function(){return k({lowdate:a,highdate:u,tickersinput:x})},children:"Submit"})]})};var F=function(){var e=Object(f.b)(),t=Object(f.c)((function(e){return e.input.activeindex})),r=Object(f.c)((function(e){return e.input.pagesarr})),n=Object(f.c)((function(e){return e.input.lowdate})),a=Object(f.c)((function(e){return e.input.highdate}));function c(t){e(D({loading:!0})),g(t,r,n,a).then(N).then((function(r){setTimeout((function(){!function(t){var r=y(t),n=r.failed,a=r.arr;e(P({stockdata:a.sort(C)})),e(D({loading:!1})),0!==n.length&&e(I({error:"Couldn't find data for the following stocks: \n"+n}))}(r),e(h({activeindex:t}))}),3e3)})).catch((function(t){e(I({error:t}))}))}return Object(A.jsx)("div",{children:r.map((function(e,r){return Object(A.jsxs)("span",{className:r===t?"page-number-active":"page-number",onClick:function(){return c(r)},children:[r+1," \xa0"]})}))})},L=r(17);r(32);var Y=function(e){var t=e.stock;return Object(A.jsxs)("div",{className:"row",children:[Object(A.jsx)("div",{className:"ticker",children:t.ticker}),Object(A.jsx)("div",{className:t.roi>0?"green":"red",children:t.roi.toFixed(3)}),Object(A.jsxs)("div",{className:"green",children:["$",t.close]}),Object(A.jsxs)("div",{className:"green",children:["$",t.high]}),Object(A.jsxs)("div",{className:"green",children:["$",t.low]})]})},R=r(16),U=r.n(R);var G=function(){var e=Object(f.c)((function(e){return e.stock.stockdata})),t=Object(f.b)(),r=Object(n.useState)(!0),a=Object(o.a)(r,2),c=a[0],i=a[1],s=Object(n.useState)(""),u=Object(o.a)(s,2),l=u[0],d=u[1];function j(r){var n=c?"asc":"desc",a=Object(L.a)(e);t(P({stockdata:a.sort(C(r,n))})),i(!c),d(r)}return Object(A.jsxs)("div",{children:[Object(A.jsxs)("div",{className:"headers",children:[Object(A.jsxs)("div",{onClick:function(){return j("ticker")},children:["Ticker \xa0",Object(A.jsx)("i",{className:"ticker"===l?c?"arrow up":"arrow down":""})]}),Object(A.jsxs)("div",{onClick:function(){return j("roi")},children:["ROI \xa0",Object(A.jsx)("i",{className:"roi"===l?c?"arrow up":"arrow down":""})]}),Object(A.jsxs)("div",{onClick:function(){return j("close")},children:["Close \xa0",Object(A.jsx)("i",{className:"close"===l?c?"arrow up":"arrow down":""})]}),Object(A.jsxs)("div",{onClick:function(){return j("high")},children:["High \xa0",Object(A.jsx)("i",{className:"high"===l?c?"arrow up":"arrow down":""})]}),Object(A.jsxs)("div",{onClick:function(){return j("low")},children:["Low \xa0",Object(A.jsx)("i",{className:"low"===l?c?"arrow up":"arrow down":""})]})]}),e.map((function(e){return Object(A.jsxs)("div",{children:[Object(A.jsx)(Y,{stock:e}),Object(A.jsx)(U.a,{config:e.configPrice})]})}))]})};var J=function(){var e=Object(f.b)(),t=Object(n.useState)(10),r=Object(o.a)(t,2),a=r[0],c=r[1],i=Object(f.c)((function(e){return e.input.currenttickers})),s=Object(f.c)((function(e){return e.input.lowdate})),u=Object(f.c)((function(e){return e.input.highdate}));function l(t){if(i&&0!==i.length){var r,n=w(i,t);r=n,e(p({pageamount:t})),e(j({pagesarr:r})),e(h({activeindex:0})),e(D({loading:!0})),g(0,n,s,u).then(N).then((function(t){!function(t){var r=y(t),n=r.failed,a=r.arr;e(P({stockdata:a.sort(C)})),e(D({loading:!1})),0!==n.length&&e(I({error:"Couldn't find data for the following stocks: \n"+n}))}(t)})).catch((function(t){e(I({error:t}))}))}}return Object(A.jsxs)("div",{children:["Results Per Page",Object(A.jsxs)("p",{children:[Object(A.jsx)("span",{className:10===a?"page-number-active":"page-number",onClick:function(){l(10),c(10)},children:"10"}),"\xa0",Object(A.jsx)("span",{className:15===a?"page-number-active":"page-number",onClick:function(){c(15),l(15)},children:"15"}),"\xa0",Object(A.jsx)("span",{className:20===a?"page-number-active":"page-number",onClick:function(){c(20),l(20)},children:"20"}),"\xa0"]})]})};var $=function(){var e=Object(f.c)((function(e){return e.stock.loading})),t=Object(f.c)((function(e){return e.stock.error})),r=Object(f.c)((function(e){return e.input.lowdate})),n=Object(f.c)((function(e){return e.input.highdate}));return Object(A.jsxs)("div",{children:[Object(A.jsx)(M,{}),Object(A.jsx)("p",{className:"red",children:t}),Object(A.jsx)("br",{}),r&&n?Object(A.jsxs)("div",{children:[Object(A.jsx)(J,{}),Object(A.jsxs)("p",{children:["Currently showing data from ",Object(A.jsx)("strong",{children:r})," through"," ",Object(A.jsx)("strong",{children:n})]}),e?"Loading Results...":Object(A.jsxs)("div",{children:[Object(A.jsx)(F,{}),Object(A.jsx)(G,{})]})]}):""]})},z=r(2),B=r.p+"static/media/sampleinput.62c2d654.png",H=r.p+"static/media/sampleoutput.a38f6089.png";var X=function(){return Object(A.jsxs)("div",{children:[Object(A.jsx)("p",{children:"Get charts for a list of stocks on a single page ranked by return on investment between the date range of your choice."}),Object(A.jsx)("h2",{children:"Sample Input"}),Object(A.jsx)("img",{alt:"Sample Input",src:B}),Object(A.jsx)("h2",{children:"Sample Output"}),Object(A.jsx)("img",{alt:"Sample Output",src:H})]})};var Z=function(){return Object(A.jsxs)("div",{className:"App",children:[Object(A.jsx)("h1",{children:"Stock Charts"}),Object(A.jsx)(i.b,{to:"/about",children:Object(A.jsx)("div",{className:"help-icon",children:"?"})}),Object(A.jsxs)(z.c,{children:[Object(A.jsx)(z.a,{path:"/",element:Object(A.jsx)($,{})}),Object(A.jsx)(z.a,{path:"/about",element:Object(A.jsx)(X,{})})]})]})},q=Object(s.a)({reducer:{input:b,stock:T},middleware:function(e){return e({serializableCheck:!1})}});c.a.render(Object(A.jsx)(i.a,{children:Object(A.jsx)(f.a,{store:q,children:Object(A.jsx)(Z,{})})}),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.befc9ce6.chunk.js.map